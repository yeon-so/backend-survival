# 9-2. Hexagonal Architecture

> ### 학습 키워드
>
> * [Hexagonal Architecture](9-2.-hexagonal-architecture.md#hexagonal-architecture)
> * [POJO](9-2.-hexagonal-architecture.md#pojo)
> * [조영호님의 “우아한객체지향” 세미나](9-2.-hexagonal-architecture.md#undefined-4)

***

## Hexagonal Architecture

#### 개념

* 사전적 의미로는 "육각형 건축물"을 뜻하며, 레어어 간 원하지 않는 종속성이나 비즈니스 로직으로 인한 사용자 인터페이스 코드의 오염과 같은 객체 지향 소프트웨어 설계의 알려진 구조적 함정을 피하기 위해 생겼다.
* 도메인 중심 아키텍처의 일종으로 클린 아키텍처를 일반화한 구조 중 하나이다.
* 핵심 비즈니스 로직은 중앙의 도메인 영역에 위치하며, 입력과 출력을 처리하는 포트와 어댑터를 통해 외부와 소통한다.
  * 결국 이 구조의 핵심은 비즈니스 로직이 표현 로직이나 데이터 접근로직에 의존하지 않는 것이다.

#### 장점

* 아키텍처 확장이 용이하다.
* SOLID 원칙을 쉽게 적용할 수 있다.
* 모듈 일부를 배포하는 게 용이하다.
* 테스트를 위해 모듈을 가짜로 바꿀 수 있으므로 테스트가 더 안정적이고 쉽다.
* 더 큰 비즈니스 적 가치를 갖고 더 오래 지속되는 도메인 모델에 큰 관심을 둔다.

#### 단점

* 포트와 어댑터를 구성하고 관리하는 데 약간의 복잡성이 따른다.
* 아키텍처를 처음 구축할 때 시간과 노력이 더 필요할 수 있다.

***

## POJO (Plain Old Java Object)

#### 개념

* Java로 생성하는 순수한 객체
* 객체 지향적인 원리에 충실하면서 환경과 기술에 종속되지 않고, 필요에 따라 재활용될 수 있는 방식으로 설계된 오브젝트를 의미한다.

#### 특징

* 특정 규약에 종속적이지 않아야 한다.
  * Java나 Java의 스펙에 정의된 것 이외에는 다른 기술이나 규약에 얽매이지 않아야 한다.
* 특정 환경에 종속적이지 않아야 한다.
* 객체 지향적 원리를 지켜야 한다.

#### 장점

* 특정 환경이나 기술에 종속적이지 않아&#x20;
  * 재사용이 가능하다.
  * 확장 가능한 유연한 코드를 작성할 수 있다.
  * 코드를 간결하게 만들 수 있고 디버깅을 상대적으로 쉽게 할 수 있다.
  * 테스트가 단순해진다.
* 객체 지향적인 설계를 제한 없이 적용할 수 있다.

***

## [우아한객체지향 세미나](https://youtu.be/dJ5C4qRqAgA)

* 클래스 의존성
  * 연관 관계 : 가장 강한 결합도를 갖는 의존성, 클래스가 필드로 레퍼런스를 가지고 있기 때문에 메모리상에서 항상 같이 존재
  * 의존 관계 : 일시적으로 결합을 하는 비교적 낮은 의존성, 보통 메서드 내에서 파라미터로 주입되거나 리턴타입, 지역변수로 사용
  * 상속 관계 :  extends 키워드로 상속된 관계, 컴파일 시점에는 결합도가 낮으나 런타임 시점에 실제로 맞는 관계는 서로 강한 결합을 갖을 수 있음
  * 실체화 관계 : interface 키워드로 만들어진 클래스와 implementes 키워드로 만들어진 구현 클래스 사이의 관계, 가장 낮은 의존성, 구현부가 없어 가장 변하지 않음
* 의존성 사이클
  * 클래스 의존성 사이클
    * 객체간의 데이터를 동기화 시켜야 함으로 발생 가능성과 범위를 최소화 시켜서 사용해야 한다.
  * 패키지 사이의 의존성 사이클
    * 사실은 하나의 패키지를 잘못 나눴을 가능성이 있기 때문에 도메인 모듈화가 필요하다면 반드시 없애야 한다.
